<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Ge√ßi≈ü √úst√ºnl√ºƒü√º ‚Äì Deneme Testi</title>
<style>
  :root{--bg:#f7f8fb;--card:#fff;--text:#1f2937;--muted:#6b7280;--accent:#2563eb;--ok:#16a34a;--bad:#dc2626;}
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
  .container{max-width:1000px;margin:24px auto;padding:0 16px}
  .card{background:var(--card);border-radius:14px;box-shadow:0 8px 24px rgba(0,0,0,.06);overflow:hidden}
  header{padding:18px 20px;border-bottom:1px solid #eef2f7;display:flex;align-items:center;gap:12px}
  header h1{font-size:18px;margin:0}
  header .pill{margin-left:auto;font-weight:600;color:#fff;background:var(--accent);padding:6px 10px;border-radius:999px}
  .progress{height:6px;background:#e5e7eb}
  .bar{height:6px;background:var(--accent);width:0%}
  .body{padding:18px 20px}
  .q-head{display:flex;justify-content:space-between;align-items:center;gap:12px}
  .q-title{font-size:18px;font-weight:700}
  .q-num{color:var(--muted);font-weight:600}
  .q-img{margin:12px 0;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden;background:#fff}
  .q-img img{display:block;max-height:340px;width:100%;object-fit:contain;background:#fff}
  .opts{display:grid;gap:10px;margin-top:14px}
  .opt{border:1.5px solid #e5e7eb;border-radius:12px;padding:12px 14px;cursor:pointer;background:#fff;transition:.15s}
  .opt:hover{border-color:#cbd5e1}
  .opt input{display:none}
  /* Mor se√ßili */
  .opt.selected{border-color:#9333ea;background:#f3e8ff}
  /* Kontrol sonrasƒ± renkler */
  .opt.correct{border-color:var(--ok);background:#f0fdf4}
  .opt.wrong{border-color:var(--bad);background:#fef2f2}
  .explain{margin-top:12px;font-size:14px;color:#065f46;background:#ecfeff;border:1px dashed #99f6e4;padding:10px;border-radius:10px;display:none;white-space:pre-wrap}
  .nav{display:flex;justify-content:space-between;gap:10px;margin-top:18px;flex-wrap:wrap}
  .btn{appearance:none;border:none;border-radius:10px;padding:12px 16px;background:#111827;color:#fff;font-weight:700;cursor:pointer}
  .btn[disabled]{opacity:.5;cursor:not-allowed}
  .btn.secondary{background:#e5e7eb;color:#111827}
  .btn.ghost{background:transparent;border:1.5px solid #e5e7eb;color:#111827}
  .grid2{display:grid;grid-template-columns:1fr;gap:16px}
  @media(min-width:960px){.grid2{grid-template-columns:1.3fr .7fr}}
  .side{background:var(--card);border:1px solid #eef2f7;border-radius:14px;padding:14px;position:sticky;top:16px;height:fit-content}
  .side h3{margin:4px 0 10px;font-size:16px}
  .nums{display:grid;grid-template-columns:repeat(5,1fr);gap:8px}
  .nbtn{border:1px solid #e5e7eb;border-radius:10px;padding:8px 0;text-align:center;cursor:pointer;font-weight:600;background:#fff}
  .nbtn.active{background:var(--accent);color:#fff;border-color:transparent}
  .nbtn.done{background:#e0f2fe;border-color:#bae6fd}
  .score{font-weight:800}
  .footer{padding:14px 20px;border-top:1px solid #eef2f7;display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;font-size:14px;color:var(--muted)}
  .source{font-size:12px;color:#6b7280}
</style>
</head>
<body>
<div class="container">
  <div class="grid2">
    <div class="card" id="quizCard">
      <header>
        <h1>üöó Ge√ßi≈ü √úst√ºnl√ºƒü√º ‚Äì Deneme Testi</h1>
        <span class="pill"><span id="doneCount">0</span>/<span id="totalCount">0</span></span>
      </header>
      <div class="progress"><div class="bar" id="bar"></div></div>

      <div class="body">
        <div class="q-head">
          <div class="q-title" id="qTitle">Sorular y√ºkleniyor‚Ä¶</div>
          <div class="q-num" id="qNum"></div>
        </div>

        <div class="q-img" id="qImg" style="display:none;">
          <img id="qImgTag" alt="Soru g√∂rseli">
        </div>

        <div class="opts" id="opts"></div>
        <div class="explain" id="explain"></div>

        <div class="nav">
          <button class="btn secondary" id="prevBtn">‚Üê √ñnceki</button>
          <div style="display:flex;gap:10px;flex-wrap:wrap">
            <button class="btn ghost" id="clearBtn">ƒ∞≈üareti Temizle</button>
            <button class="btn" id="checkBtn">Cevabƒ± Kontrol Et</button>
            <button class="btn" id="nextBtn">Sonraki ‚Üí</button>
          </div>
        </div>
      </div>

      <div class="footer">
        <div>Doƒüru: <span class="score" id="okCount">0</span> ‚Äì Yanlƒ±≈ü: <span class="score" id="badCount">0</span></div>
        <div id="finishNote"></div>
      </div>

      <div class="footer source">
        Kaynak: ehliyet-soru.com | G√∂rseller i√ßin temel adres otomatik eklendi.
      </div>
    </div>

    <aside class="side">
      <h3>Sorular</h3>
      <div class="nums" id="numPanel"></div>
    </aside>
  </div>
</div>

<script>
// --- G√ñRSEL TABAN ADRESƒ∞ ---
const IMG_BASE = 'https://ehliyet-soru.com/';

// --- SORU VERƒ∞Sƒ∞ (React verinden d√∂n√º≈üt√ºr√ºld√º) ---
const QUESTIONS = [
  {
    q: "Ge√ßi≈ü √ºst√ºnl√ºƒü√º hakkƒ± hangi h√¢llerde kullanƒ±lamaz?",
    a: ["G√∂rev h√¢li dƒ±≈üƒ±nda","≈ûehirler arasƒ± kara yollarƒ±nda","Trafiƒüin yoƒüun olduƒüu kara yollarƒ±nda","Yollarƒ±n buzlu ve kaygan olmasƒ± h√¢linde"],
    correct: 0,
    exp: "Ge√ßi≈ü √ºst√ºnl√ºƒü√º; ambulans, itfaiye, polis gibi acil hizmet ara√ßlarƒ±nƒ±n g√∂rev sƒ±rasƒ±nda √∂ncelik tanƒ±ma hakkƒ±dƒ±r. G√∂rev h√¢li dƒ±≈üƒ±nda bu hak kullanƒ±lamaz."
  },
  {
    q: "≈ûekilde g√∂r√ºlen ge√ßi≈ü √ºst√ºnl√ºƒü√ºne sahip ara√ßlarƒ±n, g√∂rev h√¢linde kar≈üƒ±la≈ümalarƒ± durumunda ilk ge√ßi≈ü hakkƒ±nƒ± hangisi kullanmalƒ±dƒ±r?",
    img: "images/q/652.webp",
    a: ["ƒ∞≈ü makinesi","Polis aracƒ±","Ambulans","ƒ∞tfaiye aracƒ±"],
    correct: 2,
    exp: "√ñncelik sƒ±rasƒ±: 1) Ambulans 2) ƒ∞tfaiye 3) Polis aracƒ± 4) ƒ∞≈ü makinesi."
  },
  {
    q: "≈ûekildeki gibi bir kav≈üakta kar≈üƒ±la≈üan ara√ßlarƒ±n ge√ßi≈ü hakkƒ± sƒ±ralamasƒ± nasƒ±l olmalƒ±dƒ±r?",
    img: "images/q/68.webp",
    a: ["1 - 2 - 4 - 3","2 - 1 - 3 - 4","2 - 3 - 4 - 1","3 - 1 - 2 - 4"],
    correct: 0,
    exp: "√ñnce ge√ßi≈ü √ºst√ºnl√ºƒü√º olanlar, sonra ana yolda d√ºz devam edenler, sonra d√∂n√º≈ü yapanlar, sonra tali yoldakiler‚Ä¶ E≈üitlikte saƒüdakine yol verilir."
  },
  {
    q: "Ge√ßi≈ü √ºst√ºnl√ºƒü√º hakkƒ±nƒ± kullanan ara√ß s√ºr√ºc√ºs√ºn√ºn a≈üaƒüƒ±dakilerden hangisini yapmasƒ± zorunludur?",
    a: ["Hƒ±z sƒ±nƒ±rlarƒ±na uymasƒ±","Trafik g√∂revlisine bilgi vermesi","I≈üƒ±klƒ± trafik i≈üaret cihazlarƒ±na uymasƒ±","Sesli ve ƒ±≈üƒ±klƒ± i≈üaretleri birlikte kullanmasƒ±"],
    correct: 3,
    exp: "Ge√ßi≈ü √ºst√ºnl√ºƒü√ºn√º kullanan ara√ßlar sesli ve ƒ±≈üƒ±klƒ± uyarƒ±larƒ± birlikte vermelidir."
  },
  {
    q: "A≈üaƒüƒ±dakilerden hangisi ge√ßi≈ü √ºst√ºnl√ºƒü√ºne sahip ara√ßlardandƒ±r?",
    a: ["Zƒ±rhlƒ± ta≈üƒ±t","Kamu hizmeti ta≈üƒ±tƒ±","Organ nakil ara√ßlarƒ±","Umum servis ara√ßlarƒ±"],
    correct: 2,
    exp: "Acil nitelikli hizmet veren organ nakil ara√ßlarƒ± ge√ßi≈ü √ºst√ºnl√ºƒü√ºne sahiptir."
  },
  {
    q: "Ge√ßi≈ü √ºst√ºnl√ºƒü√ºne sahip ara√ß s√ºr√ºc√ºs√º, bu hakkƒ± kullanƒ±rken a≈üaƒüƒ±dakilerden hangisine dikkat etmek zorundadƒ±r?",
    a: ["Hƒ±z sƒ±nƒ±rlamasƒ±na","Trafik yasaklarƒ±na","√áevreyi rahatsƒ±z etmemeye","Can ve mal g√ºvenliƒüini tehlikeye sokmamaya"],
    correct: 3,
    exp: "√ñncelik; can ve mal g√ºvenliƒüini tehlikeye sokmamaktƒ±r."
  },
  {
    q: "Ge√ßi≈ü √ºst√ºnl√ºƒü√º hakkƒ± hangi h√¢llerde kullanƒ±lamaz?",
    a: ["G√∂rev h√¢li dƒ±≈üƒ±nda","≈ûehirler arasƒ± kara yollarƒ±nda","Trafiƒüin yoƒüun olduƒüu kara yollarƒ±nda","Yollarƒ±n buzlu ve kaygan olmasƒ± h√¢linde"],
    correct: 0,
    exp: "G√∂rev h√¢li dƒ±≈üƒ±nda ge√ßi≈ü √ºst√ºnl√ºƒü√º kullanƒ±lamaz."
  },
  {
    q: "Ge√ßi≈ü √ºst√ºnl√ºƒü√º bulunan bir aracƒ±n duyulur veya g√∂r√ºl√ºr i≈üaretini alan ara√ß s√ºr√ºc√ºs√º hangilerini yapmak zorundadƒ±r?\n1. Ambulansa eskortluk yapmak\n2. Ta≈üƒ±t yolu √ºzerinde yer a√ßmak\n3. Bir kav≈üakta ise kav≈üaƒüƒ± derhal bo≈üaltmak",
    a: ["Yalnƒ±z I","I ve II.","II ve III.","I, II ve III."],
    correct: 2,
    exp: "Yer a√ßmak ve kav≈üaƒüƒ± bo≈üaltmak zorunludur; eskortluk yapmak doƒüru deƒüildir."
  },
  {
    q: "Verilen ara√ßlarƒ±n g√∂rev h√¢li durumunda ge√ßi≈ü √ºst√ºnl√ºƒü√º ve kav≈üaklarda ilk ge√ßi≈ü hakkƒ± sƒ±ralamasƒ± nasƒ±l olmalƒ±dƒ±r?\n1. ƒ∞tfaiye ara√ßlarƒ±\n2. Organ ve doku nakil ara√ßlarƒ±\n3. Afet ve acil durum ara√ßlarƒ±\n4. Sanƒ±k/su√ßlu takip eden zabƒ±ta ara√ßlarƒ±",
    a: ["I - II - III - IV","I - II - IV - III","II - I - IV - III","II - III - I - IV"],
    correct: 2,
    exp: "Sƒ±ra: (1) Ambulans/Acil hasta ‚Äì (2) Organ/doku nakil ‚Äì (3) ƒ∞tfaiye ‚Äì (4) G√ºvenlik/asayi≈ü (sorudaki ≈üƒ±klara g√∂re: II - I - IV - III)."
  },
  {
    q: "≈ûekildeki ara√ßlarƒ±n g√∂rev h√¢li durumunda ge√ßi≈ü √ºst√ºnl√ºƒü√º sƒ±ralamasƒ± nasƒ±l olmalƒ±dƒ±r?",
    img: "images/q/569.webp",
    a: ["1 - 3 - 4 - 2","3 - 1 - 4 - 2","4 - 1 - 3 - 2","4 - 1 - 3 - 2"],
    correct: 2,
    exp: "Genel sƒ±ralama: 1) Ambulans 2) ƒ∞tfaiye 3) Zabƒ±ta/G√ºvenlik 4) Afet ve Acil Durum y√∂netimi aracƒ± (sorudaki numaraya g√∂re: 4 - 1 - 3 - 2)."
  },
  {
    q: "≈ûekilde g√∂r√ºlen ge√ßi≈ü √ºst√ºnl√ºƒü√ºne sahip ara√ßlarƒ±n, g√∂rev h√¢linde kar≈üƒ±la≈ümalarƒ± durumunda ilk ge√ßi≈ü hakkƒ±nƒ± hangisi kullanmalƒ±dƒ±r?",
    img: "images/q/652.webp",
    a: ["ƒ∞≈ü makinesi","Polis aracƒ±","Ambulans","ƒ∞tfaiye aracƒ±"],
    correct: 2,
    exp: "√ñncelik sƒ±rasƒ±: 1) Ambulans 2) ƒ∞tfaiye 3) Polis aracƒ± 4) ƒ∞≈ü makinesi."
  },
  {
    q: "Buna g√∂re a≈üaƒüƒ±dakilerden hangisi s√ºr√ºlmelerine ili≈ükin esas ve kurallarƒ± verilen ara√ßlardandƒ±r?\n‚Ä¢ G√∂rev h√¢linde iken ge√ßi≈ü √ºst√ºnl√ºƒü√º hakkƒ±na sahiptir.\n‚Ä¢ G√∂rev h√¢li dƒ±≈üƒ±nda ge√ßi≈ü √ºst√ºnl√ºƒü√º i≈üaretini ve hakkƒ±nƒ± kullanmasƒ± yasaktƒ±r.\n‚Ä¢ Hizmetin gereƒüiyle sƒ±nƒ±rlƒ± olmak √ºzere trafik kƒ±sƒ±tlamalarƒ±na baƒülƒ± deƒüildir.",
    a: ["Kamu hizmeti ta≈üƒ±tƒ±","Okul ta≈üƒ±tƒ±","ƒ∞tfaiye","√áekici"],
    correct: 2,
    exp: "≈ûƒ±klarda ge√ßi≈ü √ºst√ºnl√ºƒü√ºne sahip olan tek ara√ß itfaiyedir."
  },
  {
    q: "Ge√ßi≈ü √ºst√ºnl√ºƒü√ºne sahip ara√ß s√ºr√ºc√ºs√º, bu hakkƒ± kullanƒ±rken a≈üaƒüƒ±dakilerden hangisine dikkat etmek zorundadƒ±r?",
    a: ["Hƒ±z sƒ±nƒ±rlamasƒ±na","Trafik yasaklarƒ±na","√áevreyi rahatsƒ±z etmemeye","Can ve mal g√ºvenliƒüini tehlikeye sokmamaya"],
    correct: 3,
    exp: "√ñncelik emniyettir; can ve mal g√ºvenliƒüi tehlikeye atƒ±lamaz."
  },
  {
    q: "≈ûekildeki kar≈üƒ±la≈ümada √∂ncelikle g√∂rev h√¢lindeki ambulansƒ±n ge√ßmesi gerekir. Bu durum a≈üaƒüƒ±dakilerden hangisi ile a√ßƒ±klanƒ±r?",
    img: "images/q/672.webp",
    a: ["Otomobilin tali yolda olmasƒ±","Ambulansƒ±n ana yolda olmasƒ±","Ambulansƒ±n ge√ßi≈ü √ºst√ºnl√ºƒü√ºne sahip olmasƒ±","Ambulansƒ±n diƒüer araca g√∂re daha g√º√ßl√º olmasƒ±"],
    correct: 2,
    exp: "Ambulans g√∂rev h√¢lindeyse ge√ßi≈ü √ºst√ºnl√ºƒü√ºne sahiptir."
  },
  {
    q: "Yaralƒ± veya acil hasta ta≈üƒ±yan √∂zel ara√ß s√ºr√ºc√ºleri, ge√ßi≈ü √ºst√ºnl√ºƒü√º hakkƒ±nƒ± nasƒ±l kullanabilirler?",
    a: ["Eskort e≈üliƒüinde","Seyyar tepe lambasƒ± taktƒ±rarak","Sesli ve ƒ±≈üƒ±klƒ± i≈üaretler vererek","Ara√ßlarƒ±nda bir g√∂zc√º bulundurarak"],
    correct: 2,
    exp: "Sesli ve ƒ±≈üƒ±klƒ± uyarƒ±larla ge√ßi≈ü √ºst√ºnl√ºƒü√º kullanƒ±labilir."
  },
  {
    q: "A≈üaƒüƒ±dakilerden hangisi ge√ßi≈ü √ºst√ºnl√ºƒü√ºne sahip ara√ßlarƒ±n s√ºr√ºlmesine ili≈ükin esaslardan biri deƒüildir?",
    a: ["Halkƒ±n can ve mal g√ºvenliƒüinin korunmasƒ±","I≈üƒ±klƒ± ve sesli uyarƒ± i≈üaretlerinin bir arada verilmesi","G√∂rev h√¢li dƒ±≈üƒ±nda bazƒ± ki≈üilere ayrƒ±calƒ±k saƒülanmasƒ±","Ge√ßi≈ü √ºst√ºnl√ºƒü√º hakkƒ±nƒ±n g√∂rev h√¢linde iken kullanƒ±lmasƒ±"],
    correct: 2,
    exp: "G√∂rev h√¢li dƒ±≈üƒ±nda hi√ßbir ayrƒ±calƒ±k yoktur."
  },
  {
    q: "≈ûekildeki kar≈üƒ±la≈ümada √∂ncelikle g√∂rev h√¢lindeki itfaiye aracƒ±nƒ±n ge√ßmesi gerekir. Bu durum a≈üaƒüƒ±dakilerden hangisi ile a√ßƒ±klanƒ±r?",
    img: "images/q/411.webp",
    a: ["Otomobilin tali yolda olmasƒ±","ƒ∞tfaiye aracƒ±nƒ±n ana yolda olmasƒ±","ƒ∞tfaiye aracƒ±nƒ±n ge√ßi≈ü √ºst√ºnl√ºƒü√ºne sahip olmasƒ±","ƒ∞tfaiye aracƒ±nƒ±n diƒüer araca g√∂re daha g√º√ßl√º olmasƒ±"],
    correct: 2,
    exp: "G√∂rev h√¢lindeki itfaiye aracƒ± ge√ßi≈ü √ºst√ºnl√ºƒü√ºne sahiptir."
  },
  {
    q: "G√∂rev sƒ±rasƒ±nda, belirli ara√ß s√ºr√ºc√ºlerinin can ve mal g√ºvenliƒüini tehlikeye sokmamak ≈üartƒ± ile trafik kƒ±sƒ±tlama veya yasaklarƒ±na baƒülƒ± olmamalarƒ± durumuna ne denir?",
    a: ["Gabari","Ge√ßi≈ü hakkƒ±","Ge√ßi≈ü √ºst√ºnl√ºƒü√º","Ge√ßi≈ü kolaylƒ±ƒüƒ±"],
    correct: 2,
    exp: "Tanƒ±m ‚Äòge√ßi≈ü √ºst√ºnl√ºƒü√º‚Äôd√ºr."
  },
  {
    q: "≈ûekildeki gibi bir kav≈üakta kar≈üƒ±la≈üan ara√ßlarƒ±n ge√ßi≈ü hakkƒ± sƒ±ralamasƒ± nasƒ±l olmalƒ±dƒ±r?",
    img: "images/q/56.webp",
    a: ["1 - 2 - 3 - 4","1 - 2 - 4 - 3","2 - 1 - 4 - 3","4 - 1 - 2 - 3"],
    correct: 0,
    exp: "ƒ∞tfaiye ve polis ge√ßi≈ü √ºst√ºnl√ºƒü√ºne sahiptir; √∂ncelik itfaiyededir: 1-2-3-4."
  },
  {
    q: "A≈üaƒüƒ±dakilerden hangisi ge√ßi≈ü √ºst√ºnl√ºƒü√ºne sahip ara√ßlardandƒ±r?",
    a: ["ƒ∞tfaiye aracƒ±","Motosiklet","Tarƒ±m trakt√∂r√º","Toplu ta≈üƒ±ma aracƒ±"],
    correct: 0,
    exp: "ƒ∞tfaiye, ambulans, polis, organ nakil vb. acil ara√ßlar ge√ßi≈ü √ºst√ºnl√ºƒü√ºne sahiptir."
  }
];

// --- DURUM ---
let i = 0;
const state = {
  answers: Array(QUESTIONS.length).fill(null),
  checked: Array(QUESTIONS.length).fill(false),
  corrects: 0,
  wrongs: 0
};

// --- ELEMANLAR ---
const qTitle = document.getElementById('qTitle');
const qNum = document.getElementById('qNum');
const optsEl = document.getElementById('opts');
const expEl = document.getElementById('explain');
const bar = document.getElementById('bar');
const doneCount = document.getElementById('doneCount');
const totalCount = document.getElementById('totalCount');
const okCount = document.getElementById('okCount');
const badCount = document.getElementById('badCount');
const finishNote = document.getElementById('finishNote');
const numPanel = document.getElementById('numPanel');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const checkBtn = document.getElementById('checkBtn');
const clearBtn = document.getElementById('clearBtn');
const qImgWrap = document.getElementById('qImg');
const qImgTag = document.getElementById('qImgTag');

totalCount.textContent = QUESTIONS.length;

// --- YARDIMCI ---
function withBase(imgPath){
  if(!imgPath) return null;
  return imgPath.startsWith('http') ? imgPath : (IMG_BASE + imgPath.replace(/^\/+/,''));
}

function renderNums(){
  numPanel.innerHTML='';
  QUESTIONS.forEach((_,idx)=>{
    const b=document.createElement('button');
    b.className='nbtn'+(idx===i?' active':'')+(state.checked[idx]?' done':'');
    b.textContent=(idx+1);
    b.onclick=()=>{i=idx;renderQ();};
    numPanel.appendChild(b);
  });
}

function renderQ(){
  const q=QUESTIONS[i];
  qTitle.textContent=q.q;
  qNum.textContent=`Soru ${i+1} / ${QUESTIONS.length}`;

  // G√∂rsel
  const imgUrl = withBase(q.img);
  if(imgUrl){
    qImgWrap.style.display='block';
    qImgTag.src = imgUrl;
    qImgTag.alt = `Soru ${i+1} g√∂rseli`;
  }else{
    qImgWrap.style.display='none';
    qImgTag.src='';
  }

  // ≈ûƒ±klar
  optsEl.innerHTML='';
  expEl.style.display=state.checked[i]?'block':'none';
  expEl.textContent=state.checked[i] ? 'A√ßƒ±klama: '+(q.exp||'') : '';

  q.a.forEach((txt,idx)=>{
    const label=document.createElement('label');
    label.className='opt';
    const inp=document.createElement('input');
    inp.type='radio'; inp.name='opt'; inp.value=idx;
    if(state.answers[i]===idx) inp.checked=true;
    label.appendChild(inp);
    label.insertAdjacentText('beforeend', txt);

    label.onclick=()=>{
      state.answers[i]=idx;
      updateDone();
      [...optsEl.children].forEach(x=>x.classList.remove('selected'));
      label.classList.add('selected'); // Mor se√ßim
      highlight();
    };
    optsEl.appendChild(label);
  });

  highlight();
  renderNums();
  prevBtn.disabled=i===0;
  nextBtn.disabled=i===QUESTIONS.length-1;
}

function updateDone(){
  const done=state.answers.filter(v=>v!==null).length;
  doneCount.textContent=done;
  const pr=Math.round((done/QUESTIONS.length)*100);
  bar.style.width=pr+'%';
}

function highlight(){
  const q=QUESTIONS[i];
  [...optsEl.children].forEach((el,idx)=>{
    el.classList.remove('correct','wrong');
    if(state.checked[i]){
      if(idx===q.correct) el.classList.add('correct');
      else if(idx===state.answers[i]) el.classList.add('wrong');
    }
  });
}

function check(){
  if(state.answers[i]==null){alert('Bir ≈üƒ±k i≈üaretle.');return;}
  if(state.checked[i]) return;
  state.checked[i]=true;
  const q=QUESTIONS[i];
  if(state.answers[i]===q.correct) state.corrects++; else state.wrongs++;
  okCount.textContent=state.corrects;
  badCount.textContent=state.wrongs;
  expEl.style.display='block';
  expEl.textContent='A√ßƒ±klama: '+(q.exp||'');
  highlight(); renderNums();
  if(state.checked.every(Boolean)){
    finishNote.textContent=`Tamamlandƒ±! Puanƒ±n: ${Math.round((state.corrects/QUESTIONS.length)*100)} / 100`;
  }
}

function clearMark(){
  state.answers[i]=null;
  state.checked[i]=false;
  renderQ(); updateDone();
}

// --- OLAYLAR ---
prevBtn.onclick=()=>{if(i>0){i--;renderQ();}};
nextBtn.onclick=()=>{if(i<QUESTIONS.length-1){i++;renderQ();}};
checkBtn.onclick=check;
clearBtn.onclick=clearMark;

// --- BA≈ûLAT ---
renderNums(); renderQ(); updateDone();
</script>
</body>
</html>
